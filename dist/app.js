window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),$(function(){"use strict";function t(){x&&$.getScript("dist/lib/fastclick.js",function(){FastClick.attach(document.body)}),i(),b&&b.getContext&&(d=b.getContext("2d"),e(),y.mobile()?r():n()),u.on("resize",_.throttle(i,500)).on("scroll",_.throttle(o,250))}function n(){requestAnimFrame(n),r()}function e(){var t=0,n=x?50:l;for(m=[],t;n>t;t++)m.push({x:Math.random()*h,y:Math.random()*c,vX:4*Math.random()-2||Math.random(),vY:4*Math.random()-2||-Math.random()})}function i(){h=u.width(),c=u.height(),v.attr("width",h).attr("height",c),w.width(h),w.height(c)}function o(){u.scrollTop()>50?g.addClass("hidden"):g.removeClass("hidden")}function r(){var t,n,e,i,o;d.clearRect(0,0,b.width,b.height),d.fillStyle="rgba(255, 255, 255, 0.05)",d.strokeStyle="rgba(255, 255, 255, 0.05)",d.lineWidth=.4;for(var r=0;r<m.length;r++){t=m[r],i=t.x+t.vX,o=t.y+t.vY,d.fillRect(t.x,t.y,1,1);for(var l=0;l<m.length;l++)n=m[l],e=a(t.x,t.y,n.x,n.y),s>e&&(d.beginPath(),d.moveTo(t.x,t.y),d.lineTo(n.x,n.y),d.stroke());t.x=i>h?0:0>i?h:i,t.y=o>c?0:0>o?c:o}}function a(t,n,e,i){return Math.sqrt((e-=t)*e+(i-=n)*i)}var d,h,c,m,l=300,s=100,u=$(window),f=$("main"),w=f.find(".introduction"),g=w.find(".icon-more"),v=f.find("#stage"),y=new MobileDetect(window.navigator.userAgent),x=y.mobile(),b=document.getElementById("stage");t()});