window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),$(function(){"use strict";function t(){i(),e(),v&&v.getContext&&(d=v.getContext("2d"),n()),l.on("resize",_.throttle(i,500)).on("scroll",_.throttle(o,250))}function n(){requestAnimFrame(n),r()}function e(){var t=0;for(t;u>t;t++)y.push({x:Math.random()*h,y:Math.random()*m,vX:4*Math.random()-2||Math.random(),vY:4*Math.random()-2||-Math.random()})}function i(){h=l.width(),m=l.height(),g.attr("width",h).attr("height",m),f.width(h),f.height(m)}function o(){l.scrollTop()>50?w.addClass("hidden"):w.removeClass("hidden")}function r(){var t,n,e,i,o;d.clearRect(0,0,v.width,v.height),d.fillStyle="rgba(255, 255, 255, 0.05)",d.strokeStyle="rgba(255, 255, 255, 0.05)",d.lineWidth=.4;for(var r=0;r<y.length;r++){t=y[r],i=t.x+t.vX,o=t.y+t.vY,d.fillRect(t.x,t.y,1,1);for(var u=0;u<y.length;u++)n=y[u],e=a(t.x,t.y,n.x,n.y),s>e&&(d.beginPath(),d.moveTo(t.x,t.y),d.lineTo(n.x,n.y),d.stroke());t.x=i>h?0:0>i?h:i,t.y=o>m?0:0>o?m:o}}function a(t,n,e,i){return Math.sqrt((e-=t)*e+(i-=n)*i)}var d,h,m,u=300,s=100,l=$(window),c=$("main"),f=c.find(".introduction"),w=f.find(".icon-more"),g=c.find("#stage"),v=document.getElementById("stage"),y=[];t()});