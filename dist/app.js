window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),$(function(){"use strict";function t(){i(),M&&M.getContext&&(d=M.getContext("2d"),n(),y.mobile()?r():e()),c.on("resize",_.throttle(i,500)).on("scroll",_.throttle(o,250))}function e(){requestAnimFrame(e),r()}function n(){var t=0,e=x?50:u;for(l=[],t;e>t;t++)l.push({x:Math.random()*h,y:Math.random()*m,vX:4*Math.random()-2||Math.random(),vY:4*Math.random()-2||-Math.random()})}function i(){h=c.width(),m=c.height(),v.attr("width",h).attr("height",m),f.width(h),f.height(m),x&&d&&(n(),r())}function o(){c.scrollTop()>50?g.addClass("hidden"):g.removeClass("hidden")}function r(){var t,e,n,i,o;d.clearRect(0,0,M.width,M.height),d.fillStyle="rgba(255, 255, 255, 0.05)",d.strokeStyle="rgba(255, 255, 255, 0.05)",d.lineWidth=.4;for(var r=0;r<l.length;r++){t=l[r],i=t.x+t.vX,o=t.y+t.vY,d.fillRect(t.x,t.y,1,1);for(var u=0;u<l.length;u++)e=l[u],n=a(t.x,t.y,e.x,e.y),s>n&&(d.beginPath(),d.moveTo(t.x,t.y),d.lineTo(e.x,e.y),d.stroke());t.x=i>h?0:0>i?h:i,t.y=o>m?0:0>o?m:o}}function a(t,e,n,i){return Math.sqrt((n-=t)*n+(i-=e)*i)}var d,h,m,l,u=300,s=100,c=$(window),w=$("main"),f=w.find(".introduction"),g=f.find(".icon-more"),v=w.find("#stage"),y=new MobileDetect(window.navigator.userAgent),x=y.mobile(),M=document.getElementById("stage");t()});